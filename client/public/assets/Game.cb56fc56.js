var B=Object.defineProperty;var G=(n,e,t)=>e in n?B(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var h=(n,e,t)=>(G(n,typeof e!="symbol"?e+"":e,t),t);import{S as H,i as S,s as U,e as d,a as m,b as u,d as P,z as o,B as _,j as v,C as W,y as k,A as M,w as A,D as E,u as I,E as N,F,G as q,H as z}from"./index.7dfcd9fb.js";function x(n,e,t){const s=n.slice();return s[2]=e[t],s}function O(n){let e,t=n[2].username+"",s,r;return{c(){e=d("div"),s=k(t),r=m(),u(e,"class","playerItem svelte-1vi8pcw")},m(l,i){P(l,e,i),o(e,s),o(e,r)},p(l,i){i&1&&t!==(t=l[2].username+"")&&M(s,t)},d(l){l&&v(e)}}}function Y(n){let e,t,s,r=n[0],l=[];for(let i=0;i<r.length;i+=1)l[i]=O(x(n,r,i));return{c(){e=d("div"),t=d("h3"),t.textContent="Players",s=m();for(let i=0;i<l.length;i+=1)l[i].c();u(t,"class","svelte-1vi8pcw"),u(e,"class","playerList group svelte-1vi8pcw")},m(i,c){P(i,e,c),o(e,t),o(e,s);for(let a=0;a<l.length;a+=1)l[a].m(e,null)},p(i,[c]){if(c&1){r=i[0];let a;for(a=0;a<r.length;a+=1){const f=x(i,r,a);l[a]?l[a].p(f,c):(l[a]=O(f),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=r.length}},i:_,o:_,d(i){i&&v(e),W(l,i)}}}function j(n,e,t){let{players:s}=e,{thisPlayerId:r}=e;return n.$$set=l=>{"players"in l&&t(0,s=l.players),"thisPlayerId"in l&&t(1,r=l.thisPlayerId)},[s,r]}class V extends H{constructor(e){super(),S(this,e,j,Y,U,{players:0,thisPlayerId:1})}}const D="/assets/giphy.9ed828a3.gif";function T(n){let e,t,s,r,l,i,c,a,f,w,y,L,g,b;return{c(){e=d("div"),t=d("div"),s=d("span"),s.textContent="\xD7",r=m(),l=d("p"),l.textContent="Congratulations!",i=m(),c=d("p"),a=k(n[1]),f=k(" won!"),w=m(),y=d("img"),u(s,"class","close svelte-1ersd5k"),u(l,"class","svelte-1ersd5k"),u(c,"class","svelte-1ersd5k"),E(y.src,L=D)||u(y,"src",L),u(y,"alt","Wiedzmak"),u(y,"class","svelte-1ersd5k"),u(t,"class","modal-content svelte-1ersd5k"),u(e,"class","modal svelte-1ersd5k")},m(p,C){P(p,e,C),o(e,t),o(t,s),o(t,r),o(t,l),o(t,i),o(t,c),o(c,a),o(c,f),o(t,w),o(t,y),g||(b=[I(s,"click",function(){N(n[2])&&n[2].apply(this,arguments)}),I(t,"click",F(n[3])),I(e,"click",function(){N(n[2])&&n[2].apply(this,arguments)})],g=!0)},p(p,C){n=p,C&2&&M(a,n[1])},d(p){p&&v(e),g=!1,q(b)}}}function J(n){let e,t=n[0]&&T(n);return{c(){t&&t.c(),e=A()},m(s,r){t&&t.m(s,r),P(s,e,r)},p(s,[r]){s[0]?t?t.p(s,r):(t=T(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:_,o:_,d(s){t&&t.d(s),s&&v(e)}}}function K(n,e,t){let{showModal:s}=e,{winnerUsername:r}=e,{close:l}=e;function i(c){z.call(this,n,c)}return n.$$set=c=>{"showModal"in c&&t(0,s=c.showModal),"winnerUsername"in c&&t(1,r=c.winnerUsername),"close"in c&&t(2,l=c.close)},[s,r,l,i]}class X extends H{constructor(e){super(),S(this,e,K,J,U,{showModal:0,winnerUsername:1,close:2})}}class Z{constructor(e,t,s){h(this,"playerCount");h(this,"players");h(this,"eliminatedPlayers");h(this,"currentPlayer");h(this,"hand");h(this,"currentPlayerIndx");h(this,"previousBet");h(this,"thisPlayerId");h(this,"gameClosed");this.playerCount=e.length,this.players=structuredClone(e),this.hand=t.newHands[s],this.previousBet=null,this.currentPlayer=t.startingPlayerId,this.eliminatedPlayers=[],this.currentPlayerIndx=this.players.findIndex(r=>t.startingPlayerId==r.uid),this.thisPlayerId=s,this.gameClosed=!1}removePlayer(e){this.players=this.players.filter(t=>t.uid!==e),this.eliminatedPlayers=this.eliminatedPlayers.filter(t=>t.uid!==e),this.playerCount-=1,this.currentPlayerIndx>this.playerCount&&(this.currentPlayerIndx=0,this.currentPlayer=this.players[0].uid)}hit(e){this.previousBet=e,this.nextPlayer()}nextPlayer(){this.currentPlayerIndx=(this.currentPlayerIndx+1)%this.playerCount,this.currentPlayer=this.players[this.currentPlayerIndx].uid}check(e){!e||(this.hand=e.newHand,this.players=e.players,this.eliminatedPlayers=e.eliminatedPlayers,this.playerCount=this.players.length,this.currentPlayer=e.roundStartingPlayerId,this.currentPlayerIndx=this.players.findIndex(t=>t.uid==this.currentPlayer),this.previousBet=null)}validateCheck(){console.warn("CLIENT SHOULDNT CALL HOST ONLY FUNCTIONS!")}getCardCount(){return console.warn("CLIENT SHOULDNT CALL HOST ONLY FUNCTIONS!"),{}}}export{Z as G,V as L,X as W};
